# Ошибки оцифровки данных ГОСТ Р 54084-2010

Ошибки найдены автоматическими тестами консистентности (`test_gost_data.py`)
и верифицированы сверкой с оригинальными PDF-страницами стандарта.

**Статус верификации:** все категории ошибок проверены по PDF (✅ завершено).

## Сводка

| # | Категория | Кол-во | Источник | Верификация |
|---|---|---|---|---|
| 1 | Отсутствующие сезоны (annual) | 13 | парсер | ✅ стр. 30, 72 |
| 2 | Перепутаны P и σP (сдвиг столбцов) | ~20 | парсер | ✅ стр. 24, 30 |
| 3 | Перевёрнутый порядок высот давления | 6 лок. | парсер/оригинал | ✅ стр. 30 |
| 4 | OCR-артефакты давления (121Л, 111А) | 2 | парсер | ✅ стр. 22, 23 |
| 5 | Скалярный ветер — OCR-склейка | ~4 | парсер | ✅ стр. 45 |
| 6 | Зональный ветер — OCR-склейка/сдвиг | ~7 | парсер | ✅ стр. 57, 62 |
| 7 | Аномальные σρ плотности | ~76 | оригинал | ✅ стр. 36, 41, 42 |
| 8 | Результирующий ветер — θR в поле VR | ~15 | парсер/оригинал | ✅ стр. 87, 91 |
| 9 | Перепутаны RH и Dp | 9 | оригинал | ✅ стр. 116 |
| 10 | Температура — ошибки оригинала | ~8 | оригинал | ✅ стр. 9 |

## 1. Отсутствующие сезоны

| Параметр | Локации | Стр. PDF | Описание |
|---|---|---|---|
| pressure | (45,135)–(70,135), 6 шт. | 30 | Сезон `annual` не распознан парсером |
| meridional_wind_speed | (40,60)–(70,60), 7 шт. | 72 | Сезон `annual` не распознан парсером |

## 2. Давление (pressure) — перепутаны P и σP

Парсер сдвинул столбцы: значение σP предыдущей локации попало в поле P следующей.

| Локация | Сезон | Высота | В данных | В PDF | Стр. |
|---|---|---|---|---|---|
| (50,60) | winter | 10 | P=1007.7, σP=**1.1** | P=1007.7, σP=**11.1** | 24 |
| (55,60) | winter | 10 | P=**1**, σP=1002.8 | P=**1002.8**, σP=12.5 | 24 |
| (60,60) | winter | 10 | P=**12.5**, σP=1005.5 | P=**1005.5**, σP=13.9 | 24 |
| (65,60) | winter | 10 | P=**13.9**, σP=1009.7 | P=**1009.7**, σP=14.4 | 24 |
| (70,60) | winter | 10 | P=**14.4**, σP=1011.3 | P=**1011.3**, σP=14.4 | 24 |
| (45,135) | summer | 10 | P=1008.7, σP=**1001.8** | P=1001.8, σP=7.8 | 30 |
| (50,135) | summer | 10 | P=**7.8**, σP=971.4 | P=**971.4**, σP=7.4 | 30 |
| (55,135) | summer | 10 | P=**7.4**, σP=982.2 | P=**982.2**, σP=8.0 | 30 |
| (60,135) | summer | 10 | P=**8**, σP=0 | P=**989**, σP=... | 30 |

## 3. Давление — перевёрнутый порядок высот (135°ВД)

Для 55°СШ на долготе 135°ВД давление растёт с высотой (510→720 вместо 970→680).
В PDF видно, что столбец 55°СШ содержит аномальные значения P=511, 523, 541... —
это отдельный OCR-дефект (возможно, парсер перепутал столбцы таблицы).

| Локация | Все сезоны | Стр. PDF | Описание |
|---|---|---|---|
| (55,135) | winter, spring, summer, autumn | 30 | P растёт с высотой: 510→720 вместо 970→680 |
| (45–70,135) | summer h=10 | 30 | Сдвиг столбцов в летнем блоке |

## 4. Давление — OCR-артефакты

| Локация | Сезон | Высота | В данных | В PDF | Стр. |
|---|---|---|---|---|---|
| (55,40) | annual | 2500 | P=**121** | **121Л** (OCR от ~727) | 22 |
| (60,50) | autumn | 2000 | P=**111** | **111А** (OCR от ~777) | 23 |

## 5. Скалярный ветер — OCR-склейка чисел

Парсер склеивает соседние числа из-за недостаточного пробела в OCR.

| Локация | Сезон | Высота | В данных | В PDF | Стр. |
|---|---|---|---|---|---|
| (55,20) | autumn | 10 | Vs=**67.3**, σv=2 | Vs=**6.7**, σv=**3.2** | 45 |
| (55,20) | autumn | 600 | σv=**48** | σv=**4.8** | 45 |
| (60,30) | autumn | 600 | Vs=**102.5** | Vs=**10.2**, σv=5.2 | 45 |
| (65,30) | autumn | 600 | Vs=**48**, σv=**100** | Vs=**9.7**, σv=**4.8** + сл. **10.0** | 45 |

## 6. Зональный ветер — OCR-склейка и сдвиг столбцов

Осенний блок на стр. 57 содержит числа с двумя десятичными знаками (2.15, 0.88),
что приводит к сдвигу столбцов при парсинге.

| Локация | Сезон | Высота | В данных | В PDF | Стр. |
|---|---|---|---|---|---|
| (50,30) | autumn | 100 | Vx=**70**, σvx=0.88 | Vx=**5.90**, σvx=**2.15** (из 50°СШ) | 57 |
| (65,30) | autumn | 100 | σvx=**50.2** | σvx=**5.10** | 57 |
| (65,30) | autumn | 2000 | Vx=**90** | Vx=**5.22** (сдвиг от 6.90) | 57 |
| (70,30) | autumn | 100 | Vx=**17.5**, σvx=**10.2** | Vx=2.14, σvx=4.60 | 57 |
| (70,30) | autumn | 300 | Vx=**54** | Vx=**2.54** | 57 |
| (70,30) | autumn | 600 | σvx=**66** | σvx=**6.70** | 57 |
| (75,80) | summer | 10 | σvx=**-0.5** | σvx не может быть <0 | 62 |

## 7. Плотность (density) — аномальные σρ и сдвиг столбцов

Для нескольких локаций σρ составляет 200–560 г/м³, что на порядок больше нормы (10–50).
**Верификация по PDF:** данные совпадают с PDF — аномальные значения присутствуют в оригинале стандарта.
Вероятная причина — ошибка при подготовке таблиц стандарта (сдвиг столбцов в типографии).

| Локация | Сезоны | Высоты | σρ в данных/PDF | Ожидаемое σρ | Стр. |
|---|---|---|---|---|---|
| (50,60) | winter–annual | 100–1500 | 247–562 ✅ PDF | 20–50 | 36 |
| (60,120) | winter–annual | 100–1500 | 207–486 ✅ PDF | 20–50 | 41 |
| (60,135) | winter–annual | 100–600 | 207–313 ✅ PDF | 20–50 | 42 |
| (55,135) | all seasons | 100–3000 | ρ растёт с высотой ✅ PDF | убывает | 42 |

Для (55,135) плотность растёт с высотой (698→980 вместо ~1300→920) для всех сезонов.
В PDF столбец 55°СШ содержит аномальные значения ρ=698.7, 713.9, 741.5... с малыми σρ=14–18.
Это систематическая ошибка — парсер корректно считал значения, но в оригинале стандарта
данные для 55°СШ на 135°ВД некорректны (возможно, подставлены данные другого параметра).

## 8. Результирующий ветер — θR подставлено в поле VR

**Верификация по PDF (стр. 87, 91):** подтверждено — парсер подставил значения направления
ветра θR (°) в поле скорости VR (м/с), а θR записано как None.

| Локация | Сезон | Высота | В данных (VR, θR) | В PDF (VR, θR) | Стр. |
|---|---|---|---|---|---|
| (75,90) | winter | 100 | **(198, None)** | VR=2.9, θR=**198** | 87 |
| (75,90) | winter | 300 | **(210, None)** | VR=3.2, θR=**210** | 87 |
| (75,90) | winter | 600–3000 | (227–278, None) | VR=3.0–3.3, θR=227–278 | 87 |
| (75,90) | spring | 100 | **(143, None)** | VR=0.7, θR=**143** | 87 |
| (75,90) | spring | 300 | **(117, None)** | VR=1.0, θR=**117** | 87 |
| (75,90) | annual | 10 | **(130, None)** | VR=1.4, θR=**130** | 87 |
| (60,155) | summer | 100 | **(160, 0.5)** | VR=**0.5**, θR=264 | 91 |

Для (60,155) h=100: значение 160 — это θR из соседнего столбца 55°СШ (θR=160),
т.е. произошёл сдвиг столбцов.

Также обнаружены аномально высокие VR на h=3000 для 155°ВД, **подтверждённые PDF**
(ошибки в оригинале стандарта):

| Локация | Сезон | Высота | VR в данных/PDF | Ожидаемое | Стр. |
|---|---|---|---|---|---|
| (60,155) | spring | 3000 | **9.1** ✅ PDF | 1–3 | 91 |
| (60,155) | autumn | 3000 | **11.9** ✅ PDF | 1–3 | 91 |
| (60,155) | annual | 3000 | **9.7** ✅ PDF | 1–3 | 91 |
| (65,155) | winter | 3000 | **9.8** ✅ PDF | 1–3 | 91 |
| (65,155) | spring | 3000 | **15.4** ✅ PDF | 1–3 | 91 |
| (65,155) | autumn | 3000 | **17.5** ✅ PDF | 1–3 | 91 |
| (65,155) | annual | 3000 | **15.8** ✅ PDF | 1–3 | 91 |

## 9. Относительная влажность — перепутаны RH и Dp

**Верификация по PDF (стр. 116, Таблица 108):** подтверждено — данные совпадают с PDF.
Ошибка в оригинале стандарта: в столбце Dp для 65°СШ; 170°ЗД (=5°ЗД в PDF) осенью
записаны значения, идентичные Q% (относительная влажность), а не точка росы.

| Локация | Сезон | Высота | Dp в данных/PDF | Q% в данных/PDF | Ожидаемое Dp | Стр. |
|---|---|---|---|---|---|---|
| (65,-170) | autumn | 10 | **76.7** ✅ PDF | 78.2 | −5..−10 | 116 |
| (65,-170) | autumn | 100 | **76.3** ✅ PDF | 77.9 | −5..−10 | 116 |
| (65,-170) | autumn | 300 | **75.7** ✅ PDF | 77.3 | −6..−11 | 116 |
| (65,-170) | autumn | 600 | **75.7** ✅ PDF | 77.0 | −7..−12 | 116 |
| (65,-170) | autumn | 1000 | **75.2** ✅ PDF | 77.1 | −9..−14 | 116 |
| (65,-170) | autumn | 1500 | **73.9** ✅ PDF | 76.1 | −11..−16 | 116 |
| (65,-170) | autumn | 2000 | **71.1** ✅ PDF | 72.8 | −14..−19 | 116 |
| (65,-170) | autumn | 2500 | **68.6** ✅ PDF | 70.0 | −17..−22 | 116 |
| (65,-170) | autumn | 3000 | **66.2** ✅ PDF | 68.2 | −20..−25 | 116 |

Для остальных сезонов (зима, весна, лето, annual) значения Dp нормальные (−25..+3°C).

## 10. Температура — ошибки в оригинале стандарта

**Верификация по PDF (стр. 9):** подтверждено — значения в данных совпадают с PDF.
Это ошибки печати в самом стандарте (нефизичный рост T на 3000 м).

| Локация | Сезон | Высота | T в данных/PDF | T₂₅₀₀ | Стр. |
|---|---|---|---|---|---|
| (45,30) | spring | 3000 | 275.3 | 269.2 | 9 |
| (45,30) | summer | 3000 | 289.8 | 278.0 | 9 |
| (45,30) | autumn | 3000 | 277.4 | 273.1 | 9 |
| (45,30) | annual | 3000 | 280.8 | 270.6 | 9 |
| (50,30) | spring | 3000 | 265.7 (σ=19.8) | 267.3 | 9 |
| (50,30) | summer | 3000 | 277.4 (σ=23.4) | 276.2 | 9 |
| (50,30) | autumn | 3000 | 268.8 (σ=7.9) | 271.1 | 9 |
| (50,30) | annual | 3000 | 269.4 (σ=19.5) | 269.1 | 9 |

Примечание: для (50,30) h=3000 в PDF видны аномально большие σT (19.5–23.4),
что подтверждает ненадёжность этих значений в оригинале.
