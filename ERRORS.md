# Ошибки оцифровки данных ГОСТ Р 54084-2010

Ошибки найдены автоматическими тестами консистентности (`test_gost_data.py`)
и верифицированы сверкой с оригинальными PDF-страницами стандарта.

**Статус верификации:** все категории ошибок проверены по PDF (✅ завершено).

## Сводка

| # | Категория | Кол-во | Источник | Статус |
|---|---|---|---|---|
| 1 | Отсутствующие сезоны (annual) | 13 | парсер | ✅ стр. 30, 72 |
| 2 | Перепутаны P и σP (сдвиг столбцов) | ~20 | парсер | ✅ **ИСПРАВЛЕНО** |
| 3 | Перевёрнутый порядок высот давления | 6 лок. | парсер/оригинал | ✅ стр. 30 |
| 4 | OCR-артефакты давления (121Л, 111А) | 2 | парсер | ✅ **ИСПРАВЛЕНО** |
| 5 | Скалярный ветер — OCR-склейка | ~4 | парсер | ✅ **ИСПРАВЛЕНО** |
| 6 | Зональный ветер — OCR-склейка/сдвиг | ~7 | парсер | ✅ **ИСПРАВЛЕНО** |
| 7 | Аномальные σρ плотности | ~76 | оригинал | ✅ стр. 36, 41, 42 |
| 8 | Результирующий ветер — θR в поле VR | ~15 | парсер/оригинал | ✅ **ИСПРАВЛЕНО** |
| 9 | Перепутаны RH и Dp | 9 | оригинал | ✅ стр. 116 |
| 10 | Температура — ошибки оригинала | ~8 | оригинал | ✅ стр. 9 |

## 1. Отсутствующие сезоны

| Параметр | Локации | Стр. PDF | Описание |
|---|---|---|---|
| pressure | (45,135)–(70,135), 6 шт. | 30 | Сезон `annual` не распознан парсером |
| meridional_wind_speed | (40,60)–(70,60), 7 шт. | 72 | Сезон `annual` не распознан парсером |

## 2. Давление (pressure) — перепутаны P и σP ✅ ИСПРАВЛЕНО

Парсер сдвинул столбцы: значение σP предыдущей локации попало в поле P следующей.
**Исправлено** в `gost_54084_data.py` по данным PDF.

Также исправлены осенние данные, ошибочно записанные в летний сезон для (45–70,135) h=100–3000 (стр. 30).

## 3. Давление — перевёрнутый порядок высот (135°ВД)

Для 55°СШ на долготе 135°ВД давление растёт с высотой (510→720 вместо 970→680).
В PDF видно, что столбец 55°СШ содержит аномальные значения P=511, 523, 541... —
это отдельный OCR-дефект (возможно, парсер перепутал столбцы таблицы).

| Локация | Все сезоны | Стр. PDF | Описание |
|---|---|---|---|
| (55,135) | winter, spring, summer, autumn | 30 | P растёт с высотой: 510→720 вместо 970→680 |
| (45–70,135) | summer h=10 | 30 | Сдвиг столбцов в летнем блоке |

## 4. Давление — OCR-артефакты ✅ ИСПРАВЛЕНО

**Исправлено:** 121 → 727.1, 111 → 777.4 в `gost_54084_data.py`.

## 5. Скалярный ветер — OCR-склейка чисел ✅ ИСПРАВЛЕНО

**Исправлено** в `gost_54084_data.py`: 67.3→6.7, 48→4.8, 102.5→10.2, 48/100→9.7/4.8.

## 6. Зональный ветер — OCR-склейка и сдвиг столбцов ✅ ИСПРАВЛЕНО

**Исправлено** в `gost_54084_data.py`:
- (50,30) autumn h=100: 70→0.88, 0.88→5.90
- (65,30) autumn h=100,2000,2500: сдвиги столбцов восстановлены
- (70,30) autumn h=100,300,600,2000,2500: OCR-склейки разделены
- (75,80) summer h=10: сдвиг (3.1,-0.5) → (-0.5,3.7)

## 7. Плотность (density) — аномальные σρ и сдвиг столбцов

Для нескольких локаций σρ составляет 200–560 г/м³, что на порядок больше нормы (10–50).
**Верификация по PDF:** данные совпадают с PDF — аномальные значения присутствуют в оригинале стандарта.
Вероятная причина — ошибка при подготовке таблиц стандарта (сдвиг столбцов в типографии).

| Локация | Сезоны | Высоты | σρ в данных/PDF | Ожидаемое σρ | Стр. |
|---|---|---|---|---|---|
| (50,60) | winter–annual | 100–1500 | 247–562 ✅ PDF | 20–50 | 36 |
| (60,120) | winter–annual | 100–1500 | 207–486 ✅ PDF | 20–50 | 41 |
| (60,135) | winter–annual | 100–600 | 207–313 ✅ PDF | 20–50 | 42 |
| (55,135) | all seasons | 100–3000 | ρ растёт с высотой ✅ PDF | убывает | 42 |

Для (55,135) плотность растёт с высотой (698→980 вместо ~1300→920) для всех сезонов.
В PDF столбец 55°СШ содержит аномальные значения ρ=698.7, 713.9, 741.5... с малыми σρ=14–18.
Это систематическая ошибка — парсер корректно считал значения, но в оригинале стандарта
данные для 55°СШ на 135°ВД некорректны (возможно, подставлены данные другого параметра).

## 8. Результирующий ветер — θR подставлено в поле VR ✅ ИСПРАВЛЕНО

**Исправлено** в `gost_54084_data.py`:
- (75,90) winter: все 9 высот — VR восстановлено, θR корректно расставлено
- (75,90) spring: 8 высот (кроме h=600) — VR восстановлено
- (75,90) annual h=10: 130 → (1.4, 130)
- (60,155) summer h=100: (160, 0.5) → (0.5, 264)

Также обнаружены аномально высокие VR на h=3000 для 155°ВД, **подтверждённые PDF**
(ошибки в оригинале стандарта):

| Локация | Сезон | Высота | VR в данных/PDF | Ожидаемое | Стр. |
|---|---|---|---|---|---|
| (60,155) | spring | 3000 | **9.1** ✅ PDF | 1–3 | 91 |
| (60,155) | autumn | 3000 | **11.9** ✅ PDF | 1–3 | 91 |
| (60,155) | annual | 3000 | **9.7** ✅ PDF | 1–3 | 91 |
| (65,155) | winter | 3000 | **9.8** ✅ PDF | 1–3 | 91 |
| (65,155) | spring | 3000 | **15.4** ✅ PDF | 1–3 | 91 |
| (65,155) | autumn | 3000 | **17.5** ✅ PDF | 1–3 | 91 |
| (65,155) | annual | 3000 | **15.8** ✅ PDF | 1–3 | 91 |

## 9. Относительная влажность — перепутаны RH и Dp

**Верификация по PDF (стр. 116, Таблица 108):** подтверждено — данные совпадают с PDF.
Ошибка в оригинале стандарта: в столбце Dp для 65°СШ; 170°ЗД (=5°ЗД в PDF) осенью
записаны значения, идентичные Q% (относительная влажность), а не точка росы.

| Локация | Сезон | Высота | Dp в данных/PDF | Q% в данных/PDF | Ожидаемое Dp | Стр. |
|---|---|---|---|---|---|---|
| (65,-170) | autumn | 10 | **76.7** ✅ PDF | 78.2 | −5..−10 | 116 |
| (65,-170) | autumn | 100 | **76.3** ✅ PDF | 77.9 | −5..−10 | 116 |
| (65,-170) | autumn | 300 | **75.7** ✅ PDF | 77.3 | −6..−11 | 116 |
| (65,-170) | autumn | 600 | **75.7** ✅ PDF | 77.0 | −7..−12 | 116 |
| (65,-170) | autumn | 1000 | **75.2** ✅ PDF | 77.1 | −9..−14 | 116 |
| (65,-170) | autumn | 1500 | **73.9** ✅ PDF | 76.1 | −11..−16 | 116 |
| (65,-170) | autumn | 2000 | **71.1** ✅ PDF | 72.8 | −14..−19 | 116 |
| (65,-170) | autumn | 2500 | **68.6** ✅ PDF | 70.0 | −17..−22 | 116 |
| (65,-170) | autumn | 3000 | **66.2** ✅ PDF | 68.2 | −20..−25 | 116 |

Для остальных сезонов (зима, весна, лето, annual) значения Dp нормальные (−25..+3°C).

## 10. Температура — ошибки в оригинале стандарта

**Верификация по PDF (стр. 9):** подтверждено — значения в данных совпадают с PDF.
Это ошибки печати в самом стандарте (нефизичный рост T на 3000 м).

| Локация | Сезон | Высота | T в данных/PDF | T₂₅₀₀ | Стр. |
|---|---|---|---|---|---|
| (45,30) | spring | 3000 | 275.3 | 269.2 | 9 |
| (45,30) | summer | 3000 | 289.8 | 278.0 | 9 |
| (45,30) | autumn | 3000 | 277.4 | 273.1 | 9 |
| (45,30) | annual | 3000 | 280.8 | 270.6 | 9 |
| (50,30) | spring | 3000 | 265.7 (σ=19.8) | 267.3 | 9 |
| (50,30) | summer | 3000 | 277.4 (σ=23.4) | 276.2 | 9 |
| (50,30) | autumn | 3000 | 268.8 (σ=7.9) | 271.1 | 9 |
| (50,30) | annual | 3000 | 269.4 (σ=19.5) | 269.1 | 9 |

Примечание: для (50,30) h=3000 в PDF видны аномально большие σT (19.5–23.4),
что подтверждает ненадёжность этих значений в оригинале.
