# ГОСТ Р 54084-2010

Модели атмосферы в пограничном слое на высотах от 0 до 3000 м для аэрокосмической практики. Параметры.

Данный репозиторий содержит оцифрованные табличные данные из стандарта в виде Python-модуля, а также скрипт-парсер, использованный для извлечения данных из PDF.

## Содержимое

- `gost_54084_data.py` — модуль Python с данными всех 108 таблиц стандарта
- `parse_gost54084.py` — скрипт для извлечения данных из постраничных текстовых файлов PDF

## Параметры атмосферы

| Параметр | Переменная | Значения |
|---|---|---|
| Температура | `temperature` | T [К], σT [К] |
| Давление | `pressure` | P [гПа], σP [%] |
| Плотность | `density` | ρ [кг/м³], σρ [кг/м³] |
| Скалярная скорость ветра | `scalar_wind_speed` | Vs [м/с], σv [м/с] |
| Зональная скорость ветра | `zonal_wind_speed` | Vx [м/с], σvx [м/с] |
| Меридиональная скорость ветра | `meridional_wind_speed` | Vy [м/с], σvy [м/с] |
| Результирующий ветер | `resultant_wind` | VR [м/с], θR [°] |
| Удельная влажность | `specific_humidity` | q [г/кг], σq [г/кг] |
| Относительная влажность и точка росы | `relative_humidity_dewpoint` | Q [%], Dp [°C] |

## Пространственное покрытие

- 73 географических сектора на территории РФ, стран СНГ и Балтии
- Широта: 40°–75° с.ш. (шаг 5°)
- Долгота: 20° в.д. — 170° з.д. (шаг 10°–20°)
- 9 уровней высоты: 10, 100, 300, 600, 1000, 1500, 2000, 2500, 3000 м
- 5 сезонов: зима, весна, лето, осень, среднегодовые

## Использование

```python
from gost_54084_data import temperature, pressure, HEIGHTS

# Профиль температуры: 55° с.ш., 30° в.д., зима
for h, (t, sigma_t) in zip(HEIGHTS, temperature[(55, 30)]["winter"]):
    print(f"  {h:5d} м: T = {t:.1f} К, σT = {sigma_t:.1f} К")

# Профиль давления: 60° с.ш., 50° в.д., лето
for h, (p, sigma_p) in zip(HEIGHTS, pressure[(60, 50)]["summer"]):
    print(f"  {h:5d} м: P = {p:.1f} гПа, σP = {sigma_p:.1f}%")
```

Ключ словаря — кортеж `(широта_с.ш., долгота_в.д.)`, отрицательная долгота означает западную. Каждый сезон содержит список из 9 кортежей `(среднее, отклонение)`, по одному на каждый уровень высоты из `HEIGHTS`.

## Точность

Данные извлечены из PDF методом OCR-парсинга текстового слоя. Небольшая часть значений содержит `None` из-за артефактов OCR. Рекомендуется верификация критически важных значений по оригиналу стандарта.

### Исправления OCR-ошибок (раунд 1)

Было выявлено и исправлено 100 точечных ошибок OCR:

| Категория ошибки | Кол-во | Описание |
|---|---|---|
| Инвертированные кортежи (resultant_wind, 90° в.д.) | 57 | Пары (направление, скорость) вместо (скорость, направление) для широт 55°–75° с.ш. на долготе 90° в.д. |
| Инвертированные кортежи (pressure) | 12 | Пары (σ, P) вместо (P, σ) в годовых данных давления |
| Пропущенные десятичные точки | 12 | Значения вида 49→4.9, 56→5.6, 94→9.4, 253→2.53, 74→7.4 |
| Искажение цифр | 6 | Замены 277→211, 727→121, 777→111 (путаница 7↔1 при OCR кириллицы) |
| Пропущенные ведущие цифры | 4 | Значения вида 215→1215, 882→882.5, 888→888.8 |
| Лишние цифры | 3 | Значения вида 5.511→5.5, 6.911→6.9, 311.6→11.6 |
| Инвертированные кортежи (specific_humidity) | 6 | Пары (σq, q) вместо (q, σq) в годовых данных на 30° в.д. |

### Исправления по сверке с PDF (раунд 2)

Все данные сверены с постраничными PDF-файлами оригинала стандарта. Исправлены систематические ошибки парсинга, затрагивающие целые блоки данных:

| Параметр | Долгота | Широты | Тип ошибки | Исправлено строк |
|---|---|---|---|---|
| `specific_humidity` | 60° в.д. | 40°–70° с.ш. | Полностью искажённые данные (нули, инверсии, None) | 35 |
| `specific_humidity` | 105° в.д. | 50°–75° с.ш. | Сдвиг сезонов на 1 + отсутствие годовых | 30 |
| `specific_humidity` | 70° в.д. | 40°–70° с.ш. | Выпадение высотных позиций (position-shift) | 23 |
| `specific_humidity` | 80° в.д. | 45°–70° с.ш. | Каскадная ошибка на 600 м (лето) | 6 |
| `specific_humidity` | 175° в.д./170° з.д. | 60°–70° с.ш. | Отсутствие 3 сезонов + искажение 2 | 20 |
| `temperature` | 105° в.д. | 50°–75° с.ш. | Восстановление из PDF (отсутствовали в парсинге) | 30 |
| `relative_humidity_dewpoint` | 50° в.д. | 50°–65° с.ш. | Инвертированные кортежи (Dp, Q) в осени | 4 |
| `relative_humidity_dewpoint` | 70° в.д. | 70° с.ш. | Замена None на значения из PDF (осень) | 5 |
| `relative_humidity_dewpoint` | 30°–50° в.д. | 65°–70° с.ш. | Исправление точек росы (осень) | 9 |
| `relative_humidity_dewpoint` | 175° в.д./170° з.д. | 60°–70° с.ш. | Добавление отсутствующих годовых строк | 4 |

### Известные ошибки в оригинале стандарта

Следующие аномалии присутствуют в оригинальном печатном издании ГОСТ и **не являются ошибками оцифровки**:

- `relative_humidity_dewpoint` (55° с.ш., 135° в.д.) — Q% на высотах 100–3000 м аномально занижена (35–62%) во всех сезонах
- `relative_humidity_dewpoint` (50° с.ш., 155° в.д.) — Q%=0 для лета на 10 и 100 м; Q%≈35 вместо ≈75 для весны/осени/года на 10–100 м
- `relative_humidity_dewpoint` (60° с.ш., 175° в.д.) — Q%≈38 вместо ≈78 на высотах 10–100 м во всех сезонах
- `relative_humidity_dewpoint` (65° с.ш., 170° з.д., осень) — значения Dp содержат Q% вместо точек росы (типографская ошибка)
- `relative_humidity_dewpoint` — нулевые значения Q%=0 для осени на широтах 65°–70° с.ш. (30°–70° в.д.)

### Оставшиеся значения `None`

Значения `(None, None)` сохраняются в ~50 строках, преимущественно на высоте 3000 м, в параметрах `pressure`, `meridional_wind_speed`, `resultant_wind` и `relative_humidity_dewpoint`. Эти значения отсутствуют в текстовом слое PDF.
